[tools]
go = "1.25.3"
zig = "0.15.2"
"vfox:clang" = "19.1.7"

[tasks.shim]
run = "cd go-ghostty/shim && zig build"

[tasks.build]
depends = ["shim"]
run = "go build -o bin/vtr ./cmd/vtr"
env = { CGO_ENABLED = "1", CC = "clang", CXX = "clang++" }

[tasks.test]
depends = ["shim"]
run = "go test ./..."
env = { CGO_ENABLED = "1", CC = "clang", CXX = "clang++" }

[tasks.all]
depends = ["build", "test"]
